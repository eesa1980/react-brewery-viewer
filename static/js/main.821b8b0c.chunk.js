(this["webpackJsonpiplato-test"]=this["webpackJsonpiplato-test"]||[]).push([[0],{194:function(e,t,n){"use strict";n.r(t);var r,c,a,i=n(2),o=n(0),l=n.n(o),s=n(56),j=n.n(s),b=(n(169),n(170),n(25)),d=n(11),u=n(78),O=n.n(u),h=n(126),x=n(83),f=n(94),p=n(61),v=function(){var e=Object(d.g)().search;return{processUrlParams:Object(o.useCallback)((function(){for(var t=new URLSearchParams(e),n={},r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return c.forEach((function(e){var r=t.get(e);r&&(n[e]=r)})),n}),[e])}},g=n(95),w=n.n(g);!function(e){e.ASC="asc",e.DESC="desc"}(r||(r={})),function(e){e.NAME="name",e.STATE="state",e.TYPE="type"}(c||(c={})),function(e){e.ALL="all",e.BAR="bar",e.BREWPUB="brewpub",e.CLOSED="closed",e.CONTRACT="contract",e.LARGE="large",e.MICRO="micro",e.NANO="nano",e.PLANNING="planning",e.PROPRIETOR="proprietor",e.REGIONAL="regional"}(a||(a={}));var m=n(84),y=n(210),_=n(209),k=n(150),C=n(149),L=function(e){var t=e.dropdownOpts,n=Object(k.a)(e,["dropdownOpts"]);return Object(i.jsx)(y.a.Dropdown,Object(x.a)(Object(x.a)({},n),{},{options:Object.values(t).map((function(e){return{text:Object(C.a)(e),key:e,value:e}}))}))},S=n(211),F=n(213),A=n(33),P=function(e){var t=e.brewery,n=e.showBtn;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("address",{children:[(null===t||void 0===t?void 0:t.street)&&Object(i.jsxs)(i.Fragment,{children:[null===t||void 0===t?void 0:t.street,",",Object(i.jsx)("br",{})]}),(null===t||void 0===t?void 0:t.city)&&Object(i.jsxs)(i.Fragment,{children:[null===t||void 0===t?void 0:t.city,",",Object(i.jsx)("br",{})]}),(null===t||void 0===t?void 0:t.state)&&Object(i.jsxs)(i.Fragment,{children:[null===t||void 0===t?void 0:t.state,",",Object(i.jsx)("br",{})]}),(null===t||void 0===t?void 0:t.country)&&Object(i.jsxs)(i.Fragment,{children:[null===t||void 0===t?void 0:t.country,",",Object(i.jsx)("br",{})]}),(null===t||void 0===t?void 0:t.postal_code)&&Object(i.jsx)(i.Fragment,{children:null===t||void 0===t?void 0:t.postal_code})]}),n&&t.latitude&&t.longitude&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("br",{}),Object(i.jsxs)(F.a,{className:"google-maps-button",color:"teal",labelPosition:"right",icon:"map marker alternate",as:"a",href:"https://www.google.com/maps/place/".concat(t.latitude," ").concat(t.longitude),target:"__blank",children:["View Location ",Object(i.jsx)(m.a,{name:"map marker alternate",color:"black"})]})]})]})},E=function(e){var t=e.brewery;return Object(i.jsxs)(S.a.Row,{className:"brewery-item",children:[Object(i.jsx)(S.a.Cell,{selectable:!0,children:Object(i.jsx)(A.b,{to:"/brewery-detail/".concat(t.id),children:Object(i.jsx)("strong",{children:t.name})})}),Object(i.jsx)(S.a.Cell,{selectable:!0,disabled:!t.latitude||!t.longitude,children:Object(i.jsx)("a",{href:"https://www.google.com/maps/place/".concat(t.latitude," ").concat(t.longitude),target:"__blank",children:Object(i.jsx)(P,{brewery:t})})}),Object(i.jsx)(S.a.Cell,{selectable:!0,disabled:!t.website_url,children:t.website_url&&Object(i.jsx)("a",{href:t.website_url,target:"__blank",children:Object(i.jsx)("div",{children:t.website_url})})})]})},N=function(e){var t;return Object(i.jsxs)(S.a,{fixed:!0,striped:!0,padded:!0,color:"teal",children:[Object(i.jsx)(S.a.Header,{children:Object(i.jsxs)(S.a.Row,{children:[Object(i.jsx)(S.a.HeaderCell,{children:"Name"}),Object(i.jsx)(S.a.HeaderCell,{children:"Location"}),Object(i.jsx)(S.a.HeaderCell,{children:"Website"})]})}),Object(i.jsx)(S.a.Body,{children:null===(t=e.breweries)||void 0===t?void 0:t.map((function(e,t){return Object(i.jsx)(E,{brewery:e},e+"-"+t)}))}),Object(i.jsx)(S.a.Footer,{children:Object(i.jsxs)(S.a.Row,{children:[Object(i.jsx)(S.a.HeaderCell,{children:Object(i.jsxs)(F.a,{color:"teal",loading:e.isLoading,icon:!0,labelPosition:"right",disabled:e.breweries.length>=100||!!(e.breweries.length%10),onClick:e.onClickShowMore,children:["Show more ",Object(i.jsx)(m.a,{name:"arrow down"})]})}),Object(i.jsx)(S.a.HeaderCell,{}),Object(i.jsx)(S.a.HeaderCell,{})]})})]})},R=n(207),z=n(212),B=n(208),T=n(215),M=function(e){var t=e.children,n=e.title,r=e.isLoading,c=void 0!==r&&r,a=e.subtitle;return Object(i.jsxs)(R.a,{children:[Object(i.jsx)(z.a,{active:c,page:!0,children:Object(i.jsx)(B.a,{content:"Loading"})}),n&&Object(i.jsx)(_.a,{horizontal:!0,children:Object(i.jsx)(T.a,{as:"h1",children:n})}),a&&Object(i.jsx)(T.a,{as:"p",textAlign:"center",children:a}),t]})},H=n(27),I="https://api.openbrewerydb.org/breweries/";function U(){var e=Object(b.a)(["\n  position: sticky;\n  top: 50px;\n  padding: 20px 0;\n  background: linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 1) 70%,\n    transparent 100%\n  );\n"]);return U=function(){return e},e}var D=function(){var e=Object(o.useState)(!1),t=Object(p.a)(e,2),n=t[0],l=t[1],s=Object(o.useState)(1),j=Object(p.a)(s,2),b=j[0],u=j[1],g=Object(o.useState)([]),k=Object(p.a)(g,2),C=k[0],S=k[1],F=Object(d.f)(),A=(0,v().processUrlParams)("sort_by","direction","by_type"),P=Object(o.useMemo)((function(){return Object.values(c).includes(A.sort_by)?A.sort_by:c.NAME}),[A]),E=Object(o.useMemo)((function(){return Object.values(a).includes(A.by_type)?A.by_type:a.ALL}),[A]);Object(o.useEffect)((function(){(function(){var e=Object(f.a)(O.a.mark((function e(){var t,n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),A.sort_by=P,A.by_type=E,A.by_type===a.ALL&&delete A.by_type,t=(A.direction===r.ASC?"-":"+")+A.sort_by,delete A.direction,delete A.sort_by,e.next=9,w()({url:I,params:Object(x.a)(Object(x.a)({},A),{},{sort:t,page:b,per_page:10})});case 9:if(n=e.sent,c=null===n||void 0===n?void 0:n.data,!(b>1)){e.next=15;break}if(C.length/10===b-1){e.next=14;break}return e.abrupt("return",u(1));case 14:c=[].concat(Object(h.a)(C),Object(h.a)(null===n||void 0===n?void 0:n.data));case 15:return l(!1),e.abrupt("return",S(c));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[F.location,b]);var R=Object(o.useCallback)((function(e,t){u(1),A.sort_by=t.value,F.push({search:new URLSearchParams(A).toString()})}),[A,F]),z=Object(o.useCallback)((function(e,t){u(1);var n=t.value;A.by_type=n,F.push({search:new URLSearchParams(A).toString()})}),[A,F]);return Object(i.jsxs)(M,{title:Object(i.jsxs)(i.Fragment,{children:["Breweries",Object(i.jsx)(m.a,{className:"beer",color:"teal"})]}),subtitle:"Select a brewery, click on a location or click a website link to view more information",children:[Object(i.jsx)(G,{children:Object(i.jsx)(y.a,{children:Object(i.jsxs)(y.a.Group,{widths:"equal",children:[Object(i.jsx)(L,{label:Object(i.jsxs)(i.Fragment,{children:["Sort by ",Object(i.jsx)(m.a,{className:"sort amount down"})]}),value:P,selection:!0,dropdownOpts:c,onChange:R}),Object(i.jsx)(L,{label:Object(i.jsxs)(i.Fragment,{children:["Filter by type ",Object(i.jsx)(m.a,{className:"filter"})]}),value:E,selection:!0,dropdownOpts:a,onChange:z})]})})}),Object(i.jsx)(N,{onClickShowMore:function(){return u(b+1)},breweries:C,isLoading:n}),Object(i.jsx)(_.a,{horizontal:!0})]})},G=H.a.div(U()),J=function(e){var t=e.title,n=e.children;return Object(i.jsxs)("article",{children:[Object(i.jsx)(T.a,{as:"h2",size:"large",children:t}),n]})};function W(){var e=Object(b.a)(["\n  text-align: center;\n  margin-left: auto;\n  margin-right: auto;\n"]);return W=function(){return e},e}var V=function(e){var t=e.brewery;return t?Object(i.jsxs)(q,{children:[Object(i.jsx)(J,{title:"Brewery Type",children:Object(i.jsx)("p",{children:Object(C.a)(null===t||void 0===t?void 0:t.brewery_type)})}),Object(i.jsx)(_.a,{horizontal:!0}),t&&Object(i.jsx)(J,{title:"Address",children:Object(i.jsx)(P,{brewery:t,showBtn:!0})}),Object(i.jsx)(_.a,{horizontal:!0}),(null===t||void 0===t?void 0:t.website_url)&&Object(i.jsx)(J,{title:"Website",children:Object(i.jsx)("a",{href:null===t||void 0===t?void 0:t.website_url,target:"__blank",children:null===t||void 0===t?void 0:t.website_url})}),Object(i.jsx)(_.a,{horizontal:!0}),(null===t||void 0===t?void 0:t.phone)&&Object(i.jsx)(J,{title:"Phone",children:Object(i.jsx)("a",{href:"tel:".concat(null===t||void 0===t?void 0:t.phone),target:"__blank",children:null===t||void 0===t?void 0:t.phone})}),Object(i.jsx)(_.a,{horizontal:!0})]}):Object(i.jsx)(i.Fragment,{})},q=H.a.div(W());function Y(){var e=Object(b.a)(["\n  background: #00b5ad;\n  color: #ffffff;\n  padding: 20px;\n  text-align: center;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  height: 250px;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  border-top-right-radius: 75px;\n  border-bottom-left-radius: 75px;\n  box-shadow: -10px 10px rgba(0, 0, 0, 0.05);\n\n  .header {\n    color: #ffffff;\n  }\n"]);return Y=function(){return e},e}var K=function(){var e=Object(d.h)("/brewery-detail/:id"),t=Object(o.useState)(void 0),n=Object(p.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(!0),l=Object(p.a)(a,2),s=l[0],j=l[1];return Object(o.useEffect)((function(){(function(){var t=Object(f.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({url:I+(null===e||void 0===e?void 0:e.params.id)});case 2:n=t.sent,c(n.data),j(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[null===e||void 0===e?void 0:e.params.id]),Object(i.jsxs)(M,{isLoading:s,children:[Object(i.jsx)(Q,{children:Object(i.jsx)(T.a,{as:"h1",size:"huge",color:void 0,children:null===r||void 0===r?void 0:r.name})}),Object(i.jsx)(_.a,{horizontal:!0}),Object(i.jsx)(V,{brewery:r})]})},Q=H.a.div(Y()),X=function(){return Object(i.jsxs)(d.c,{children:[Object(i.jsx)(d.a,{exact:!0,path:"/",component:D}),Object(i.jsx)(d.a,{exact:!0,path:"/brewery-detail/:id",component:K}),Object(i.jsx)(d.a,{component:function(){return Object(i.jsx)(M,{title:"404 Error - Page not found"})}})]})};function Z(){var e=Object(b.a)(["\n  padding: 20px 0;\n  background: #00b5ad;\n  color: #ffffff;\n  position: sticky;\n  top: 0;\n  z-index: 9999;\n\n  nav {\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n\n    a,\n    strong {\n      color: #ffffff;\n\n      &:hover {\n        text-decoration-color: #ffffff;\n      }\n    }\n  }\n"]);return Z=function(){return e},e}var $=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ee,{children:Object(i.jsx)(R.a,{children:Object(i.jsx)("nav",{children:Object(i.jsx)(A.b,{to:"/",children:Object(i.jsx)("strong",{children:"Brewery Viewer"})})})})}),Object(i.jsx)(_.a,{horizontal:!0})]})},ee=H.a.header(Z());function te(){var e=Object(b.a)(["\n  padding: 20px 0;\n  background: #00b5ad;\n  color: #ffffff;\n  margin-top: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n\n  a {\n    color: #ffffff!important;\n\n    &:hover {\n      text-decoration-color: #ffffff;\n    }\n"]);return te=function(){return e},e}var ne=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(re,{children:Object(i.jsx)(R.a,{children:Object(i.jsx)("a",{href:"https://www.linkedin.com/in/lewis-james-odwin-71b4a08a/",target:"__blank",children:"Lewis James-Odwin"})})})})},re=H.a.header(te());function ce(){var e=Object(b.a)(["\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n  word-wrap: break-word;\n  \n  * {\n    color: rgba(0, 0, 0, 0.87);\n    a,\n    a * {\n      color: #00b5ad;\n\n      &:hover {\n        text-decoration: underline;\n        text-decoration-color: #00b5ad;\n      }\n    }\n  }\n\n  .disabled * {\n    color: rgba(0, 0, 0, 0.87)\n  }\n"]);return ce=function(){return e},e}var ae=H.a.div(ce()),ie=function(e){e.children;return Object(i.jsxs)(ae,{children:[Object(i.jsx)($,{}),Object(i.jsx)("main",{children:Object(i.jsx)(X,{})}),Object(i.jsx)(ne,{})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};j.a.render(Object(i.jsx)(l.a.StrictMode,{children:Object(i.jsx)(A.a,{children:Object(i.jsx)(ie,{})})}),document.getElementById("root")),oe()}},[[194,1,2]]]);
//# sourceMappingURL=main.821b8b0c.chunk.js.map